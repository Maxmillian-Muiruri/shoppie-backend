<div class="cart-container">
  <h2>Your Cart</h2>
  <div *ngIf="loading" class="loading">Loading cart...</div>
  <div *ngIf="error" class="error">{{ error }}</div>
  <div *ngIf="checkoutMessage" class="success">{{ checkoutMessage }}</div>

  <table class="cart-table" *ngIf="cart && cart.items.length">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cart.items">
        <td>{{ item.productId }}</td>
        <td>
          <input type="number" [value]="item.quantity" min="1" (change)="updateQuantity(item, $event.target.valueAsNumber)" [disabled]="updating" />
        </td>
        <td>
          <button (click)="removeItem(item)" [disabled]="updating" class="danger">Remove</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="cart && !cart.items.length && !loading" class="empty">Your cart is empty.</div>
  <button (click)="checkout()" [disabled]="updating || !cart || !cart.items.length" *ngIf="cart && cart.items.length">Checkout</button>
</div> 