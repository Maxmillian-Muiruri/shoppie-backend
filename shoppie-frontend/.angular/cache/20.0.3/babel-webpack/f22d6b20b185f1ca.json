{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nlet CartComponent = class CartComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cart = null;\n    this.loading = false;\n    this.error = '';\n    this.updating = false;\n    this.checkoutMessage = '';\n  }\n  ngOnInit() {\n    this.fetchCart();\n  }\n  fetchCart() {\n    this.loading = true;\n    this.cartService.getCart().subscribe({\n      next: cart => {\n        this.cart = cart;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err.error?.message || 'Failed to load cart.';\n        this.loading = false;\n      }\n    });\n  }\n  updateQuantity(item, quantity) {\n    if (quantity < 1) return;\n    this.updating = true;\n    this.cartService.updateCartItem(item.productId, quantity).subscribe({\n      next: () => {\n        this.fetchCart();\n        this.updating = false;\n      },\n      error: err => {\n        this.error = err.error?.message || 'Failed to update cart.';\n        this.updating = false;\n      }\n    });\n  }\n  removeItem(item) {\n    this.updating = true;\n    this.cartService.removeFromCart(item.productId).subscribe({\n      next: () => {\n        this.fetchCart();\n        this.updating = false;\n      },\n      error: err => {\n        this.error = err.error?.message || 'Failed to remove item.';\n        this.updating = false;\n      }\n    });\n  }\n  checkout() {\n    this.updating = true;\n    this.cartService.checkout().subscribe({\n      next: () => {\n        this.checkoutMessage = 'Checkout successful!';\n        this.fetchCart();\n        this.updating = false;\n      },\n      error: err => {\n        this.error = err.error?.message || 'Checkout failed.';\n        this.updating = false;\n      }\n    });\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})], CartComponent);\nexport { CartComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}