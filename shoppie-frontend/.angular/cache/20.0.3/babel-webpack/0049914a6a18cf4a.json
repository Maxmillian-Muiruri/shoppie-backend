{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nlet ProfileComponent = class ProfileComponent {\n  constructor(userService, fb) {\n    this.userService = userService;\n    this.fb = fb;\n    this.user = null;\n    this.loading = false;\n    this.error = '';\n    this.editMode = false;\n    this.updateMessage = '';\n    this.profileForm = this.fb.group({\n      firstName: ['', Validators.required],\n      lastName: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]]\n    });\n  }\n  ngOnInit() {\n    this.fetchUser();\n  }\n  fetchUser() {\n    this.loading = true;\n    this.userService.getCurrentUser().subscribe({\n      next: user => {\n        this.user = user;\n        this.profileForm.patchValue(user);\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err.error?.message || 'Failed to load profile.';\n        this.loading = false;\n      }\n    });\n  }\n  enableEdit() {\n    this.editMode = true;\n    this.updateMessage = '';\n  }\n  cancelEdit() {\n    this.editMode = false;\n    this.profileForm.patchValue(this.user);\n    this.updateMessage = '';\n  }\n  saveProfile() {\n    if (!this.user) return;\n    if (this.profileForm.invalid) return;\n    this.userService.updateUser(this.user.id, this.profileForm.value).subscribe({\n      next: updated => {\n        this.user = updated;\n        this.editMode = false;\n        this.updateMessage = 'Profile updated!';\n      },\n      error: err => {\n        this.error = err.error?.message || 'Failed to update profile.';\n      }\n    });\n  }\n};\nProfileComponent = __decorate([Component({\n  selector: 'app-profile',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})], ProfileComponent);\nexport { ProfileComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}