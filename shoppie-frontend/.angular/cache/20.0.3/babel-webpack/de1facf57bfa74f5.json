{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/order.service\";\nimport * as i2 from \"../../services/cart.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction CheckoutComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"h3\");\n    i0.ɵɵtext(2, \"Success!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_div_7_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goToProducts());\n    });\n    i0.ɵɵtext(6, \"Continue Shopping\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_div_7_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/orders\"]));\n    });\n    i0.ɵɵtext(8, \"View My Orders\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.successMessage);\n  }\n}\nfunction CheckoutComponent_div_8_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"img\", 17);\n    i0.ɵɵelementStart(2, \"div\", 18)(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 19);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", item_r3.image, i0.ɵɵsanitizeUrl)(\"alt\", item_r3.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantity: \", item_r3.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", (item_r3.price * item_r3.quantity).toFixed(2));\n  }\n}\nfunction CheckoutComponent_div_8_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtemplate(1, CheckoutComponent_div_8_div_3_div_1_Template, 9, 5, \"div\", 14);\n    i0.ɵɵelementStart(2, \"div\", 15)(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cartItems);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total: $\", ctx_r1.totalAmount.toFixed(2));\n  }\n}\nfunction CheckoutComponent_div_8_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Your cart is empty. Please add items before checkout.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_div_8_ng_template_4_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.goToProducts());\n    });\n    i0.ɵɵtext(3, \"Continue Shopping\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h3\");\n    i0.ɵɵtext(2, \"Order Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CheckoutComponent_div_8_div_3_Template, 5, 2, \"div\", 12)(4, CheckoutComponent_div_8_ng_template_4_Template, 4, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const emptyCart_r5 = i0.ɵɵreference(5);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.cartItems.length > 0)(\"ngIfElse\", emptyCart_r5);\n  }\n}\nfunction CheckoutComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"h3\");\n    i0.ɵɵtext(2, \"Shipping Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 21, 1);\n    i0.ɵɵlistener(\"ngSubmit\", function CheckoutComponent_div_9_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.placeOrder());\n    });\n    i0.ɵɵelementStart(5, \"div\", 22)(6, \"label\", 23);\n    i0.ɵɵtext(7, \"Shipping Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"textarea\", 24);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CheckoutComponent_div_9_Template_textarea_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.shippingAddress, $event) || (ctx_r1.shippingAddress = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 25)(10, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_div_9_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goToCart());\n    });\n    i0.ɵɵtext(11, \" Back to Cart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 27);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const checkoutForm_r7 = i0.ɵɵreference(4);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.shippingAddress);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !checkoutForm_r7.valid || ctx_r1.isProcessing);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isProcessing ? \"Processing...\" : \"Place Order\", \" \");\n  }\n}\nexport let CheckoutComponent = /*#__PURE__*/(() => {\n  class CheckoutComponent {\n    constructor(orderService, cartService, router) {\n      this.orderService = orderService;\n      this.cartService = cartService;\n      this.router = router;\n      this.cartItems = [];\n      this.totalAmount = 0;\n      this.shippingAddress = '';\n      this.isProcessing = false;\n      this.successMessage = '';\n    }\n    ngOnInit() {\n      this.loadCartItems();\n    }\n    loadCartItems() {\n      this.cartService.getCart().subscribe({\n        next: cart => {\n          this.cartItems = cart.items;\n          this.calculateTotal();\n        },\n        error: error => {\n          console.error('Error loading cart:', error);\n        }\n      });\n    }\n    calculateTotal() {\n      this.totalAmount = this.cartItems.reduce((total, item) => {\n        return total + item.price * item.quantity;\n      }, 0);\n    }\n    placeOrder() {\n      if (!this.shippingAddress.trim()) {\n        alert('Please enter a shipping address');\n        return;\n      }\n      this.isProcessing = true;\n      const orderData = {\n        shippingAddress: this.shippingAddress\n      };\n      this.orderService.createOrder(orderData).subscribe({\n        next: order => {\n          this.isProcessing = false;\n          this.successMessage = 'Order placed successfully! A confirmation email has been sent. Please check your email for more details.';\n          this.cartItems = [];\n          this.totalAmount = 0;\n        },\n        error: error => {\n          this.isProcessing = false;\n          console.error('Error placing order:', error);\n          alert('Error placing order. Please try again.');\n        }\n      });\n    }\n    goToCart() {\n      this.router.navigate(['/cart']);\n    }\n    goToProducts() {\n      this.router.navigate(['/products']);\n    }\n    static #_ = this.ɵfac = function CheckoutComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CheckoutComponent)(i0.ɵɵdirectiveInject(i1.OrderService), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CheckoutComponent,\n      selectors: [[\"app-checkout\"]],\n      decls: 10,\n      vars: 3,\n      consts: [[\"emptyCart\", \"\"], [\"checkoutForm\", \"ngForm\"], [1, \"checkout-container\"], [1, \"checkout-header\"], [1, \"checkout-content\"], [\"class\", \"success-message\", 4, \"ngIf\"], [\"class\", \"order-summary\", 4, \"ngIf\"], [\"class\", \"shipping-form\", 4, \"ngIf\"], [1, \"success-message\"], [1, \"btn-primary\", 3, \"click\"], [1, \"btn-secondary\", 3, \"click\"], [1, \"order-summary\"], [\"class\", \"cart-items\", 4, \"ngIf\", \"ngIfElse\"], [1, \"cart-items\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"total\"], [1, \"cart-item\"], [1, \"product-image\", 3, \"src\", \"alt\"], [1, \"item-details\"], [1, \"price\"], [1, \"shipping-form\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"shippingAddress\"], [\"id\", \"shippingAddress\", \"name\", \"shippingAddress\", \"required\", \"\", \"rows\", \"4\", \"placeholder\", \"Enter your complete shipping address...\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-actions\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"]],\n      template: function CheckoutComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"h1\");\n          i0.ɵɵtext(3, \"Checkout\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\");\n          i0.ɵɵtext(5, \"Complete your purchase\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 4);\n          i0.ɵɵtemplate(7, CheckoutComponent_div_7_Template, 9, 1, \"div\", 5)(8, CheckoutComponent_div_8_Template, 6, 2, \"div\", 6)(9, CheckoutComponent_div_9_Template, 14, 3, \"div\", 7);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.successMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0 && !ctx.successMessage);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, i4.NgIf, FormsModule, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n      styles: [\".checkout-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.checkout-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c5aa0;margin-bottom:10px}.checkout-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:40px;margin-top:20px;align-items:center;justify-items:center;min-height:400px}.order-summary[_ngcontent-%COMP%], .shipping-form[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.cart-items[_ngcontent-%COMP%]{margin-top:15px}.cart-item[_ngcontent-%COMP%]{display:flex;gap:15px;padding:15px 0;border-bottom:1px solid #eee}.product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:4px}.item-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666}.price[_ngcontent-%COMP%]{font-weight:700;color:#2c5aa0!important}.total[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:2px solid #eee;text-align:right}.total[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c5aa0;font-size:1.2em}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;resize:vertical}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2c5aa0;box-shadow:0 0 0 2px #2c5aa033}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;margin-top:20px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:#2c5aa0;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e3f6b}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#f8f9fa;color:#333;border:1px solid #ddd}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e9ecef}@media (max-width: 768px){.checkout-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.success-message[_ngcontent-%COMP%]{background:#e6f9ed;border:1.5px solid #34d399;color:#065f46;border-radius:8px;padding:32px 24px;margin-bottom:32px;text-align:center;box-shadow:0 2px 8px #34d39914}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#059669;font-size:1.5em}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0 24px;font-size:1.1em}.success-message[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .success-message[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin:0 8px}\"]\n    });\n  }\n  return CheckoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}